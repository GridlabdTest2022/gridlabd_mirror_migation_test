// matrix operations test

// absolute
#assert $(gridlabd matrix -f absolute "1,2;-3,4") == '1,2;3,4;'

// add
#assert $(gridlabd matrix -f add "1,2;3,4;5,6" "1,2;3,4;5,6") == '2,4;6,8;10,12;'

// angle
#assert $(gridlabd matrix -f angle "1+1j,1+2j;1-3j,1-4j") == '0.78539816,1.1071487;-1.2490458,-1.3258177;'

// arc{cos,sin,tan}[h]
#assert $(gridlabd matrix -f arccos "0.1,0.2;0.3,0.4") == '1.4706289,1.3694384;1.2661037,1.1592795;'
#assert $(gridlabd matrix -f arccosh "1,2;3,4") == '0,1.3169579;1.7627472,2.0634371;'
#assert $(gridlabd matrix -f arcsin "0.1,0.2;0.3,0.4") == '0.10016742,0.20135792;0.30469265,0.41151685;'
#assert $(gridlabd matrix -f arcsinh "1,2;3,4") == '0.88137359,1.4436355;1.8184465,2.0947125;'
#assert $(gridlabd matrix -f arctan "0.1,0.2;0.3,0.4") == '0.099668652,0.19739556;0.29145679,0.38050638;'
#assert $(gridlabd matrix -f arcsinh "1,2;3,4") == '0.88137359,1.4436355;1.8184465,2.0947125;'
#assert $(gridlabd matrix -f arctanh "0.1,0.2;0.3,0.4") == '0.10033535,0.20273255;0.3095196,0.42364893;'
#assert $(gridlabd matrix -f arctan2 "1,2;-3,-4" "1,-2;-3,4") == '0.78539816,2.3561945;-2.3561945,-0.78539816;'

// around
#assert $(gridlabd matrix -f around "1.234,2.3452;-3.456,-4.567") == '1,2;-3,-5;'
#assert $(gridlabd matrix -f around "1.234,2.3452;-3.456,-4.567" decimals=2) == '1.23,2.35;-3.46,-4.57;'

// cbrt
#assert $(gridlabd matrix -f cbrt "1,2;3,4;5,6;") == '1,1.259921;1.4422496,1.5874011;1.7099759,1.8171206;'

// ceil
#assert $(gridlabd matrix -f ceil "1.234,2.3452;-3.456,-4.567") == '2,3;-3,-4;'

// clip
#assert $(gridlabd matrix -f clip "1.234,2.3452;-3.456,-4.567" a_min=-4 a_max=2) == '1.234,2;-3.456,-4;'

// conj,conjugate
#assert "${SHELL gridlabd matrix -f conj "1+1j,1+2j;1-3j,1-4j" | tr -d ' '}" == '(1-1j),(1-2j);(1+3j),(1+4j);'
#assert "${SHELL gridlabd matrix -f conjugate "1-1j,1-2j;1+3j,1+4j" | tr -d ' '}" == '(1+1j),(1+2j);(1-3j),(1-4j);'

// convolve
#assert $(gridlabd matrix -f convolve "1,2;3,4" "2,3;4,5") == '2,7,16,30,34,31,20;'
#assert $(gridlabd matrix -f convolve "1,2;3,4" "2,3;4,5" mode='full') == '2,7,16,30,34,31,20;'
#assert $(gridlabd matrix -f convolve "1,2;3,4" "2,3;4,5" mode='same') == '7,16,30,34;'
#assert $(gridlabd matrix -f convolve "1,2;3,4" "2,3;4,5" mode='valid') == '30;'

// copysign
#assert $(gridlabd matrix -f copysign "1,2;3,4;5,6;" "-1,1;1,-1;-1,-1") == '-1,2;3,-4;-5,-6;'

// cos[h]
#assert $(gridlabd matrix -f cos "1,2;3,4;5,6;") == '0.54030231,-0.41614684;-0.9899925,-0.65364362;0.28366219,0.96017029;'
#assert $(gridlabd matrix -f cosh "1,2;3,4;5,6;") == '1.5430806,3.7621957;10.067662,27.308233;74.209949,201.71564;'

// cross
#assert $(gridlabd matrix -f cross "1,2;3,4;5,6;" "2,1;4,3;6,5") == '-3,-7,-11;'
#assert $(gridlabd matrix -f cross "1,2;3,4;5,6;" "2,1;4,3;6,5" axis=0) == '-2,2;4,-4;-2,2;'
#assert $(gridlabd matrix -f cross "1,2;3,4;5,6;" "2,1;4,3;6,5" axisa=0 axisb=0) == '-2,4,-2;2,-4,2;'

// cumprod
#assert $(gridlabd matrix -f cumprod "1,2;3,4;5,6") == '1,2,6,24,120,720;'
#assert $(gridlabd matrix -f cumprod "1,2;3,4;5,6" axis=0) == '1,2;3;8;15,48'
#assert $(gridlabd matrix -f cumprod "1,2;3,4;5,6" axis=1) == '1,2;3,12;5,30'

// cumsum
#assert $(gridlabd matrix -f cumsum "1,2;3,4;5,6") == '1,3,6,10,15,21;'
#assert $(gridlabd matrix -f cumsum "1,2;3,4;5,6" axis=0) == '1,2;4,6;9,12'
#assert $(gridlabd matrix -f cumsum "1,2;3,4;5,6" axis=1) == '1,3;3,7;5,11'

// deg2rad 
//#assert $(gridlabd matrix -f ) == ''

// degress
//#assert $(gridlabd matrix -f ) == ''

// diff
//#assert $(gridlabd matrix -f ) == ''

// divide
//#assert $(gridlabd matrix -f ) == ''

// divmod
//#assert $(gridlabd matrix -f ) == ''

// dot
//#assert $(gridlabd matrix -f ) == ''

// exp
//#assert $(gridlabd matrix -f ) == ''

// exp2
//#assert $(gridlabd matrix -f ) == ''

// expm1
//#assert $(gridlabd matrix -f ) == ''

// eye
//#assert $(gridlabd matrix -f ) == ''

// fabs
//#assert $(gridlabd matrix -f ) == ''

// fix
//#assert $(gridlabd matrix -f ) == ''

// float_power
//#assert $(gridlabd matrix -f ) == ''

// floor
//#assert $(gridlabd matrix -f ) == ''

// floor_divide
//#assert $(gridlabd matrix -f ) == ''

// fmax
//#assert $(gridlabd matrix -f ) == ''

// fmin
//#assert $(gridlabd matrix -f ) == ''

// fmod
//#assert $(gridlabd matrix -f ) == ''

// gcd
//#assert $(gridlabd matrix -f ) == ''

// gradient
//#assert $(gridlabd matrix -f ) == ''

// heaviside
//#assert $(gridlabd matrix -f ) == ''

// hypot
//#assert $(gridlabd matrix -f ) == ''

// i0
//#assert $(gridlabd matrix -f ) == ''

// identify
//#assert $(gridlabd matrix -f ) == ''

// imag
//#assert $(gridlabd matrix -f ) == ''

// interp
//#assert $(gridlabd matrix -f ) == ''

// lcm
//#assert $(gridlabd matrix -f ) == ''

// ldexp
//#assert $(gridlabd matrix -f ) == ''

// log
//#assert $(gridlabd matrix -f ) == ''

// log10
//#assert $(gridlabd matrix -f ) == ''

// log1p
//#assert $(gridlabd matrix -f ) == ''

// log2
//#assert $(gridlabd matrix -f ) == ''

// logaddexp
//#assert $(gridlabd matrix -f ) == ''

// logaddexp2
//#assert $(gridlabd matrix -f ) == ''

// maximum
//#assert $(gridlabd matrix -f ) == ''

// minimum
//#assert $(gridlabd matrix -f ) == ''

// mod
//#assert $(gridlabd matrix -f ) == ''

// modf
//#assert $(gridlabd matrix -f ) == ''

// multiply
//#assert $(gridlabd matrix -f ) == ''

// nancumprod
//#assert $(gridlabd matrix -f ) == ''

// nancumsum
//#assert $(gridlabd matrix -f ) == ''

// nanprod
//#assert $(gridlabd matrix -f ) == ''

// nansum
//#assert $(gridlabd matrix -f ) == ''

// negative
//#assert $(gridlabd matrix -f ) == ''

// nextafter
//#assert $(gridlabd matrix -f ) == ''

// ones
//#assert $(gridlabd matrix -f ) == ''

// positive
//#assert $(gridlabd matrix -f ) == ''

// power
//#assert $(gridlabd matrix -f ) == ''

// prod
//#assert $(gridlabd matrix -f ) == ''

// rad2deg
//#assert $(gridlabd matrix -f ) == ''

// radians
//#assert $(gridlabd matrix -f ) == ''

// real
//#assert $(gridlabd matrix -f ) == ''

// real_if_close
//#assert $(gridlabd matrix -f ) == ''

// reciprocal
//#assert $(gridlabd matrix -f ) == ''

// remainder
//#assert $(gridlabd matrix -f ) == ''

// rint
//#assert $(gridlabd matrix -f ) == ''

// round_
//#assert $(gridlabd matrix -f ) == ''

// savetxt
//#assert $(gridlabd matrix -f ) == ''

// sign
//#assert $(gridlabd matrix -f ) == ''

// signbit
//#assert $(gridlabd matrix -f ) == ''

// sin
//#assert $(gridlabd matrix -f ) == ''

// sinc
//#assert $(gridlabd matrix -f ) == ''

// sinh
//#assert $(gridlabd matrix -f ) == ''

// spacing
//#assert $(gridlabd matrix -f ) == ''

// sqrt
//#assert $(gridlabd matrix -f ) == ''

// square
//#assert $(gridlabd matrix -f ) == ''

// subtract
//#assert $(gridlabd matrix -f ) == ''

// sum
//#assert $(gridlabd matrix -f ) == ''

// tan
//#assert $(gridlabd matrix -f ) == ''

// tanh
//#assert $(gridlabd matrix -f ) == ''

// trace
//#assert $(gridlabd matrix -f ) == ''

// transpose
//#assert $(gridlabd matrix -f ) == ''

// trapz
//#assert $(gridlabd matrix -f ) == ''

// true_divide
//#assert $(gridlabd matrix -f ) == ''

// trunc
//#assert $(gridlabd matrix -f ) == ''

// unwrap
//#assert $(gridlabd matrix -f ) == ''

// zeros
#assert $(gridlabd matrix -f zeros 2,3) == '0,0,0;0,0,0;'

